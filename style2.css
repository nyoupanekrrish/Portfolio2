/* ============================
   THEME VARIABLES
   ============================ */
:root{
  --bg: #f4f2ee;                /* off-white / warm gray */
  --bg-paper: rgba(60,60,60,.05);
  --text: #1b1b1b;              /* deep charcoal */
  --muted: #4e4e4e;             /* graphite gray */
  --accent: #586b46;            /* moss green */
  --accent-2: #c88c2a;          /* warm ochre */
  --chip-bg: #e7e3dc;
  --card: #ffffff;
  --shadow: 0 6px 24px rgba(0,0,0,.08);
  --radius: 14px;
  --radius-sm: 10px;
  --space: 1rem;
  --space-lg: 2rem;
  --dur-fast: .18s;
  --dur: .3s;
  --dur-slow: .6s;
  --easing: cubic-bezier(.2,.7,.2,1);
}

/* Reduced motion: tone down durations */
@media (prefers-reduced-motion: reduce){
  :root{
    --dur-fast: 0.01ms;
    --dur: 0.01ms;
    --dur-slow: 0.01ms;
  }
}

/* ============================
   BASE
   ============================ */
* { box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
  color: var(--text);
  background: var(--bg);
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

.visually-hidden{
  position:absolute !important; inset:0 auto auto 0; width:1px;height:1px;
  overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; padding:0;
}

/* subtle paper texture overlay */
body::after{
  content:"";
  pointer-events:none;
  position:fixed; inset:0;
  background:
    radial-gradient(transparent 60%, rgba(0,0,0,.04)),
    repeating-linear-gradient(0deg, transparent 0 3px, rgba(0,0,0,.02) 3px 4px);
  mix-blend-mode:multiply;
  opacity:.35;
  z-index:-1;
}

/* ============================
   HEADER
   ============================ */
.site-header{
  position:sticky; top:0; z-index:5;
  display:flex; align-items:center; gap:1rem;
  padding: .75rem 1rem;
  background: linear-gradient(180deg, rgba(244,242,238,.95), rgba(244,242,238,.65));
  backdrop-filter: blur(6px);
  border-bottom: 1px dashed rgba(0,0,0,.08);
}

.back-link{ color:var(--muted); text-decoration:none; font-weight:600; }
.back-link .back-underline{
  background-image: linear-gradient(currentColor,currentColor);
  background-repeat: no-repeat;
  background-position: 0 95%;
  background-size: 0% 2px;
  transition: background-size var(--dur) var(--easing);
}
.back-link:hover .back-underline{ background-size: 100% 2px; }

.title-wrap{ flex:1; text-align:center; }
.handwrite{
  width:min(95vw, 1000px);
  height:auto;
  display:block;
  margin: 0 auto;
}
.name-stroke{
  font-family: "Shadows Into Light", cursive;
  font-size: 120px;
  fill: none;
  stroke: var(--text);
  stroke-width: 2.2px;
  paint-order: stroke fill;
}

/* writing animation clip rect grows from 0% -> 100% */
@keyframes write-reveal{
  from{ width: 0%; }
  to{ width: 100%; }
}
.handwrite #clip-rect{
  animation: write-reveal 25s var(--easing) 0s forwards;
}

.subtitle{
  margin:.25rem 0 0 0;
  letter-spacing:.12em;
  color:var(--muted);
}

/* Toolbar */
.toolbar{
  display:flex; flex-wrap:wrap; gap: .75rem;
  align-items:center; justify-content:space-between;
  padding: .6rem 1rem .9rem;
  border-bottom: 1px dashed rgba(0,0,0,.08);
}
.chips{ display:flex; gap:.5rem; flex-wrap:wrap; }
.chip{
  background: var(--chip-bg);
  border: 1px dashed rgba(0,0,0,.15);
  padding:.45rem .75rem;
  border-radius: 999px;
  cursor:pointer;
  font-weight:600;
  transition: transform var(--dur-fast) var(--easing), background var(--dur-fast);
}
.chip:hover{ transform: translateY(-1px); }
.chip.is-active{ background: var(--accent); color:#fff; border-color: transparent; }
.chip-toggle{ background:#dfe7dd; }
.search-sort{ display:flex; gap:.5rem; align-items:center; }
#searchInput{
  padding:.55rem .7rem; border-radius:999px; border:1px solid rgba(0,0,0,.12);
  background: #fff; min-width: 230px;
}
#sortSelect{
  padding:.55rem .7rem; border-radius:999px; border:1px solid rgba(0,0,0,.12);
  background: #fff;
}
.icon-button{
  border:1px dashed rgba(0,0,0,.18);
  background:#fff; border-radius:999px; padding:.45rem .65rem; cursor:pointer;
}
.icon-button:hover{ background:#f7f7f7; }
#menuToggle{ display:none; }

/* ============================
   GALLERY (masonry via CSS columns)
   ============================ */
.gallery{
  column-width: 320px;
  column-gap: 1rem;
  padding: 1rem;
}
.art-card{
  display:inline-block;
  width:100%;
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  margin: 0 0 1rem 0;
  position:relative;
  overflow:hidden;
  break-inside: avoid;
  transition: transform var(--dur) var(--easing), box-shadow var(--dur);
  cursor: url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2232%22 height=%2232%22><circle cx=%2216%22 cy=%2216%22 r=%2215%22 fill=%22none%22 stroke=%22%23666%22/><rect x=%2212%22 y=%229%22 width=%2212%22 height=%228%22 fill=%22%23666%22/></svg>') 2 2, pointer; /* playful eraser cursor */
}
.art-card:hover{ transform: translateY(-2px); box-shadow: 0 10px 28px rgba(0,0,0,.12); }
.art-card picture, .art-card img{ display:block; width:100%; height:auto; }
figcaption{ padding: .75rem .9rem; }
figcaption .title{ display:block; font-weight:800; }
figcaption .meta{ color:var(--muted); font-size:.9rem; }

.overlay{
  position:absolute; inset:0;
  display:flex; align-items:flex-end; justify-content:space-between;
  background: linear-gradient(to top, rgba(0,0,0,.45), rgba(0,0,0,.05));
  color:#fff; padding:.7rem; opacity:0;
  transition: opacity var(--dur);
}
.art-card:hover .overlay{ opacity:1; }
.overlay-meta{ display:flex; flex-direction:column; gap:.15rem; }
.overlay-actions{ display:flex; gap:.4rem; }
.overlay .icon-button{ background:rgba(255,255,255,.9); border-color:transparent; }

/* ============================
   LIGHTBOX
   ============================ */
.lightbox[aria-hidden="true"]{ display:none; }
.lightbox{
  position:fixed; inset:0; background: rgba(15,15,15,.9); z-index:50;
  display:grid; grid-template-rows:auto 1fr;
}
.lb-chrome{
  display:flex; align-items:center; justify-content:space-between;
  padding:.5rem 1rem; color:#fff;
}
.lb-tools{ display:flex; gap:.4rem; }
.lb-stage{
  min-height:0; display:grid; place-items:center; padding:1rem;
}
.lb-frame{
  position:relative; max-width:min(94vw, 1400px); max-height: 78vh;
  display:grid; place-items:center; background:#111; border-radius: var(--radius);
  box-shadow: 0 10px 40px rgba(0,0,0,.45);
  overflow:hidden;
}
#lbImg{ max-width:100%; max-height:100%; transform-origin:center; transition: transform var(--dur-slow) var(--easing); }
.lb-caption{ color:#e8e8e8; text-align:center; margin:.6rem auto 0; max-width: 80ch; }

/* hand-drawn frame animation */
.hand-drawn-frame{
  pointer-events:none; position:absolute; inset:10px;
  border:2px dashed rgba(255,255,255,.75);
  border-radius: var(--radius-sm);
  animation: frame-dash 3s linear infinite;
}
@keyframes frame-dash{
  to{ border-color: rgba(255,255,255,.75); border-width: 2px; border-style: dashed; }
}

/* sketch loader */
.sketch-loader{
  position:absolute; width:56px; height:56px; border:3px dashed #ddd; border-radius:999px;
  animation: spin 1s linear infinite;
}
@keyframes spin{ to{ transform: rotate(360deg); } }

/* ============================
   CONTACT FAB + MODAL
   ============================ */
.fab{
  position:fixed; right:1rem; bottom:1rem; z-index:6;
  background: var(--accent); color:#fff; border:none; border-radius: 999px;
  box-shadow: var(--shadow); padding:.8rem 1rem; font-weight:700; cursor:pointer;
  transition: transform var(--dur-fast); 
}
.fab:hover{ transform: translateY(-1px); }

.modal{ width:min(96vw, 560px); border:none; border-radius: var(--radius); padding:0; }
.modal-inner{ display:flex; flex-direction:column; }
.modal-header{ display:flex; justify-content:space-between; align-items:center; padding:1rem 1rem .5rem; }
.modal-body{ display:grid; gap:.75rem; padding: 0 1rem 1rem; }
.modal-body label{ display:grid; gap:.35rem; }
.modal-body input, .modal-body textarea{
  border:1px solid rgba(0,0,0,.12); border-radius: var(--radius-sm); padding:.65rem; background:#fff;
}
.modal-footer{ padding: .5rem 1rem 1rem; }
.btn{
  background: var(--accent); color:#fff; border:none; border-radius: var(--radius-sm); padding:.6rem .9rem; font-weight:700; cursor:pointer;
}
.btn:hover{ filter: brightness(1.05); }

/* ============================
   SKETCH BACKGROUND CANVAS
   ============================ */
.sketch-canvas{
  position:fixed; inset:0; z-index:-2; pointer-events:none; opacity:.5;
  mix-blend-mode:multiply;
}

/* ============================
   FOOTER
   ============================ */
.site-footer{
  display:flex; flex-wrap:wrap; gap:.75rem; align-items:center; justify-content:space-between;
  border-top: 1px dashed rgba(0,0,0,.08);
  padding:1rem;
}
.back-cta{
  text-decoration:none; border:1px dashed rgba(0,0,0,.2); padding:.6rem .85rem; border-radius: 999px;
  background:#2a691a; font-weight:700;
}
.socials{ display:flex; gap:.75rem; }
.socials a{ color:var(--text); }

/* ============================
   RESPONSIVE FIXES FOR GALLERY PAGE
   ============================ */

/* Tablets */
@media (max-width: 900px) {
  .name-stroke {
    font-size: 80px; /* scale handwriting */
  }
  .toolbar {
    flex-direction: column;
    align-items: stretch;
    gap: 1rem;
  }
  .search-sort {
    width: 100%;
    justify-content: space-between;
  }
  #searchInput {
    flex: 1;
    min-width: unset;
    width: 60%;
  }
  #sortSelect {
    width: 38%;
  }
}

/* Phones */
@media (max-width: 600px) {
  .name-stroke {
    font-size: 48px;
  }
  .subtitle {
    font-size: 0.85rem;
  }
  .gallery {
    column-width: auto;
    column-count: 1;  /* stack artworks in one column */
  }
  .toolbar {
    padding: 0.75rem;
  }
  .chips {
    justify-content: center;
  }
  .search-sort {
    flex-direction: column;
    gap: 0.6rem;
  }
  #searchInput,
  #sortSelect,
  #bgToggle {
    width: 100%;
  }
  .fab {
    right: 0.75rem;
    bottom: 0.75rem;
    padding: 0.65rem 0.85rem;
    font-size: 0.9rem;
  }
  .modal {
    width: 95vw;
  }
  .site-footer {
    flex-direction: column;
    text-align: center;
    gap: 0.5rem;
  }
}



/* ============================
   ACCESSIBILITY: High contrast tweak
   ============================ */
@media (prefers-contrast: more){
  .overlay{ background: linear-gradient(to top, rgba(0,0,0,.7), rgba(0,0,0,.2)); }
  .lb-caption{ color:#fff; }
}

